---
applications:
- name: stratos-ui-v2
  path: stratos-ui-v2
  routes:
  - route: (( concat "console-v2." secrets.cloudfoundry.system_domain ))
  - route: (( concat "cf-console-ui." secrets.cloudfoundry.system_domain ))
  buildpack: https://github.com/cloudfoundry-incubator/stratos-buildpack#v2.4
  memory: 1536M
  stack: cflinuxfs3
  disk_quota: 1024M
  timeout: 180
  health-check-type: port
  instances: 2
  env:
    CF_STAGING_TIMEOUT: 30  #--- Extends staging timeout from defaut (15 min)
    CF_STARTUP_TIMEOUT: 30  #--- Extends startup timeout from defaut (5 min)
    CF_API_FORCE_SECURE: true
    FORCE_HTTPS: true
